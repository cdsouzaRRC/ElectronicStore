<!DOCTYPE html>
<html lang="zxx" dir="ltr">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Gadgets Zone</title>
    <meta name="robots" content="index, follow" />
    <meta name="description" content="Hmart-Smart Product eCommerce html Template">
    <link rel="shortcut icon" type="image/x-icon" href="assets/images/favicon.ico" />
    <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/pe-icon-7-stroke.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/animate.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/swiper-bundle.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/venobox.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/jquery-ui.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/new.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/style.min.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/fontawesome.min.css" integrity="sha384-zIaWifL2YFF1qaDiAo0JFgsmasocJ/rqu7LKYH8CoBEXqGbb9eO+Xi3s6fQhgFWM" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css"/>
    <!-- Default theme -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.min.css"/>
</head>
<body>
    <div class="main-wrapper">
        <header>
            <div class="header-top">
                <div class="container">
                    <div class="row justify-content-between align-items-center">
                        <div class="col">
                            <div class="welcome-text">
                                {% if user.is_authenticated %}
                                  <p>Welcome, {{request.user.first_name | capfirst }}</p>
                                {% else %}
                                  <p>Welcome, User</p>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col d-none d-lg-block">
                            <div class="top-nav">
                                <ul>
                                    <li><a href="tel:0123456789"><i class="fa-solid fa-phone"></i>9481309571</a></li>
                                    <li><a href="mailto:gadgetzone@gmail.com"><i class="fa-regular fa-envelope"></i> gadgetzone@gmail.com</a></li>
                                    <li><a href="{% url 'account' %}"><i class='far fa-user-circle'></i> Profile</a></li>
                                    {% if user.is_authenticated %}
                                        <li><a href="{% url 'logout' %}"><i class="fa-solid fa-arrow-right-from-bracket"></i> Logout</a></li>
                                    {% else %}
                                        <li><a href="{% url 'login' %}"><i class="fa-solid fa-arrow-right-to-bracket"></i>Login</a></li>
                                    {% endif %}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-bottom  d-none d-lg-block">
                <div class="container">
                    <div class="row justify-content-between align-items-center">
                        <div class="col-lg-3 col">
                            <div class="header-logo">
                                <a href="/"><img src="{% static 'assets/images/logo/logos.jpg' %}" alt="Site Logo" style="width: 230px;"/></a>
                            </div>
                        </div>
                        <div class="col-lg-6 d-none d-lg-block">
                            <div class="search-element">
                                <form action="/search/"  method="get">
                                    <input type="text" placeholder="Search" name="query" id="query"/>
                                    <button><i class="pe-7s-search"></i></button>
                                </form>
                            </div>
                        </div>
                        <div class="col-lg-3 col">
                            <div class="header-actions">
                                <a href="#offcanvas-cart" class="header-action-btn header-action-btn-cart offcanvas-toggle pr-0">
                                    <i class="pe-7s-shopbag"></i>
                                    <span class="header-action-num">{{request.session.cart|length}}</span>
                                </a>
                                <a href="#offcanvas-mobile-menu" class="header-action-btn header-action-btn-menu offcanvas-toggle d-lg-none">
                                    <i class="pe-7s-menu"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-bottom d-lg-none sticky-nav style-1">
                <div class="container">
                    <div class="row justify-content-between align-items-center">
                        <div class="col-lg-3 col">
                            <div class="header-logo">
                                <a href="/"><img src="{% static 'assets/images/logo/logos.jpg' %}" alt="Site Logo" style="width: 230px;"/></a>
                            </div>
                        </div>
                        <div class="col-lg-3 col">
                            <div class="header-actions">
                                <a href="#offcanvas-cart" class="header-action-btn header-action-btn-cart offcanvas-toggle pr-0">
                                    <i class="pe-7s-shopbag"></i>
                                    <span class="header-action-num">{{request.session.cart|length}}</span>
                                </a>
                                <a href="#offcanvas-mobile-menu" class="header-action-btn header-action-btn-menu offcanvas-toggle d-lg-none">
                                    <i class="pe-7s-menu"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-nav-area d-none d-lg-block sticky-nav">
                <div class="container">
                    <div class="header-nav">
                        <div class="main-menu position-relative">
                            <ul>
                                <li ><a href="/">Home</a></li>
                                <li><a href="{% url 'products' %}">Shop</a></li>
                                <li class="dropdown"><a href="#">Categories <i class="bi bi-caret-down-fill"></i></a>
                                    <ul class="sub-menu" style="min-width:120px;">
                                        {% for cat in categories %}
                                        <li class="dropdown position-static"><a href="/category/?categories={{cat.id}}">{{cat.name}}</a></li>
                                        {% endfor %}
                                    </ul>
                                </li>
                                <li><a href="{% url 'faq' %}">FAQ</a></li>
                                <li><a href="{% url 'contact' %}">Contact Us</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mobile-search-box d-lg-none">
                <div class="container">
                    <div class="search-element max-width-100">
                            <form action="/search/"  method="get">
                                <input type="text" placeholder="Search" name="query" id="query"/>
                                <button><i class="pe-7s-search"></i></button>
                            </form>
                    </div>
                </div>
            </div>
        </header>
        <div id="offcanvas-cart" class="offcanvas offcanvas-cart">
            <div class="inner">
                <div class="head">
                    <span class="title">Cart</span>
                    <button class="offcanvas-close">Ã—</button>
                </div>
                <div class="body customScroll">
                    <ul class="minicart-product-list">
                        {% if request.session.cart.items|length < 1 %}
                            <div class="empty-cart-area pb-100px pt-100px">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="cart-heading">
                                                <h2>Your cart item</h2>
                                            </div>
                                            <div class="empty-text-contant text-center">
                                                <i class="pe-7s-shopbag"></i>
                                                <h3>There are no more items in your cart</h3>
                                                <a class="empty-cart-btn" href="{% url 'home' %}">
                                                    Continue shopping
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% else %}
                            {% for key,value in request.session.cart.items %}
                            <li>
                                <a href="" class="image"><img src="{{value.image}}" alt="Cart product Image"></a>
                                <div class="content">
                                    <p>{{value.name}}</p>
                                    <span class="quantity-price">{{value.quantity}} x <span class="amount">â‚¹{{value.price}}</span></span>
                                    <a href="{% url 'item_clear' key %}" class="remove">Ã—</a>
                                </div>
                            </li>
                            {% endfor %}
                        {% endif %}        
                            
                    </ul>
                </div>
                <div class="foot">
                    <div class="buttons mt-30px">
                        <a href="{% url 'cart_detail' %}" class="btn btn-dark btn-hover-primary mb-30px">view cart</a>
                    </div>
                </div>
            </div>
        </div>
        <div id="offcanvas-mobile-menu" class="offcanvas offcanvas-mobile-menu">
            <button class="offcanvas-close"></button>
            <div class="user-panel">
                <ul>
                    <li><a href="tel:9481309571"><i class="fa-solid fa-phone"></i>9481309571</a></li>
                    <li><a href="mailto:gadgetzone@gmail.com"><i class="fa-regular fa-envelope"></i> gadgetzone@gmail.com</a></li>
                    <li><a href="{% url 'account' %}"><i class="fa fa-user"></i> Account</a></li>
                    {% if user.is_authenticated %}
                        <li><a href="{% url 'logout' %}"><i class="fa-solid fa-arrow-right-from-bracket"></i> Logout</a></li>
                    {% else %}
                        <li><a href="{% url 'login' %}"><i class="fa-solid fa-arrow-right-to-bracket"></i>Login</a></li>
                    {% endif %}
                </ul>
            </div>
            <div class="inner customScroll">
                <div class="offcanvas-menu mb-4">
                    <ul>
                        <li><a href="/"><span class="menu-text">Home</span></a> </li>
                        <li><a href="{% url 'products' %}"><span class="menu-text">Shop</span></a> </li>
                        <li class="dropdown"><a href="#">Categories <i class="bi bi-caret-down-fill"></i></a>
                            <ul class="sub-menu" style="min-width:120px;">
                                {% for cat in categories %}
                                <li class="dropdown position-static"><a href="/category/?categories={{cat.id}}">{{cat.name}}</a></li>
                                {% endfor %}
                            </ul>
                        </li>
                        
                        <li><a href="{% url 'faq' %}">FAQ</a></li>
                        <li><a href="{% url 'contact' %}">Contact Us</a></li>
                    </ul>
                </div>
                <div class="offcanvas-social mt-auto">
                    <ul>
                        <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                        <li><a href="#"><i class="fa fa-google"></i></a></li>
                        <li><a href="#"><i class="fa fa-youtube"></i></a></li>
                        <li><a href="#"><i class="fa fa-instagram"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
        {% block content %} {% endblock %}
        <div class="footer-area">
            <div class="footer-container">
                <div class="footer-top">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-6 col-lg-3 mb-md-30px mb-lm-30px">
                                <div class="single-wedge">
                                    <div class="footer-logo">
                                        <a href="index.html"><img src="{% static 'assets/images/logo/logos.jpg' %}" alt="logo" style="width: 230px;"></a>
                                    </div>
                                    <p class="about-text" style="margin-top:20px;">Follow us on</p>
                                    <ul class="link-follow">
                                        <li><a title="Facebook" target="_blank"  href="/"><img src="https://img.icons8.com/sf-regular/48/000000/facebook.png"/></a></li>
                                        <li><a title="Instagram" target="_blank"  href="/"><img src="https://img.icons8.com/sf-regular/48/000000/instagram-new.png"/></a></li>
                                        <li><a title="Twitter" target="_blank"  href="/"><img src="https://img.icons8.com/material-outlined/48/000000/twitter.png"/></a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3 col-sm-6 mb-lm-30px pl-lg-40px">
                                <div class="single-wedge">
                                    <h4 class="footer-herading">Quick Links</h4>
                                    <div class="footer-links">
                                        <div class="footer-row">
                                            <ul class="align-items-center">
                                                <li class="li"><a class="single-link" href="{% url 'account'  %}">Profile</a></li>
                                                <li class="li"><a class="single-link" href="{% url 'account'  %}">Orders</a></li>
                                                <li class="li"><a class="single-link" href="{% url 'products'  %}">Shop</a></li>
                                                <li class="li"><a class="single-link" href="{% url 'cart_detail'  %}">Shopping cart</a></li>
                                                <li class="li"><a class="single-link" href="{% url 'contact' %}">Contact Us</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3 col-sm-6 mb-lm-30px pl-lg-60px">
                                <div class="single-wedge">
                                    <h4 class="footer-herading">Category</h4>
                                    <div class="footer-links">
                                        <div class="footer-row">
                                            <ul class="align-items-center">
                                            {% for cat in categories %}                                       
                                                    <li><a href="/category/?categories={{cat.id}}" class="single-link">{{cat.name}}</a></li>
                                             {% endfor %}
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3 col-sm-12">
                                <div class="single-wedge">
                                    <h4 class="footer-herading">Contact Info</h4>
                                    <div class="footer-links">
                                        <p class="address">Address: Manipal</p>
                                        <p class="phone">Phone: <a href="tel:9481309571"> 9481309571</a></p>
                                        <p class="mail">Email: <a href="mailto:demo@example.com"> gadgetzone@gmail.com</a></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Modal -->
    {% for i in product %}
    <div class="modal modal-2 fade" id="exampleModal-{{forloop.counter}}" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"> <i class="pe-7s-close"></i></button>
                    <div class="row">
                        <div class="col-lg-6 col-sm-12 col-xs-12 mb-lm-30px mb-md-30px mb-sm-30px">
                            <div class="swiper-container gallery-top">
                                <div class="swiper-wrapper">
                                    {% for img in i.images_set.all %}
                                    <div class="swiper-slide">
                                        <img class="img-responsive m-auto" src="/{{img.image}}" alt="">
                                        
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            
                        </div>
                        <div class="col-lg-6 col-sm-12 col-xs-12" data-aos="fade-up" data-aos-delay="200">
                            <div class="product-details-content quickview-content">
                                <h2>{{i.name}}</h2>
                                <div class="pricing-meta">
                                    <ul class="d-flex">
                                        <li class="new-price">â‚¹{{i.price}}</li>
                                    </ul>
                                </div>
                                <p class="mt-30px">{{i.description | truncatewords:30 | safe }}</p>
                                <div class="pro-details-quality">
                                    <div class="pro-details-cart">
                                        <a href="{% url 'cart_add' i.id %}"><button class="add-cart"> Add To Cart</button></a>
                                    </div>
                                </div>
                                <div class="payment-img">
                                    <a href="#"><img src="assets/images/icons/payment.png" alt=""></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}


    <script src="{% static 'assets/js/vendor/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'assets/js/vendor/jquery-3.6.0.min.js' %}"></script>
    <script src="{% static 'assets/js/vendor/jquery-migrate-3.3.2.min.js' %}"></script>
    <script src="{% static 'assets/js/vendor/modernizr-3.11.2.min.js' %}"></script>
    <script src="{% static 'assets/js/plugins/jquery.countdown.min.js' %}"></script>
    <script src="{% static 'assets/js/plugins/swiper-bundle.min.js' %}"></script>
    <script src="{% static 'assets/js/plugins/scrollUp.js' %}"></script>
    <script src="{% static 'assets/js/plugins/venobox.min.js' %}"></script>
    <script src="{% static 'assets/js/plugins/jquery-ui.min.js' %}"></script>
    <script src="{% static 'assets/js/plugins/mailchimp-ajax.js' %}"></script>
    <script src="{% static 'assets/js/vendor.min.js' %}"></script>
    <script src="{% static 'assets/js/plugins.min.js' %}"></script>
    <script src="{% static 'assets/js/main.min.js' %}"></script>
    <script src="{% static 'assets/js/new.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="{% static 'assets/js/main.js' %}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>
    <script>
        alertify.set('notifier','position', 'top-right');
        {% for msg in messages %}
            {% if msg.tags == "info" %}
                alertify.notify('{{msg}}');
            {% else %}
                alertify.{{msg.tags}}('{{msg}}');
            {% endif %}
        {% endfor %}
    </script>
    <script type="text/javascript">
        $('#profile').on('click',function(){
            $('#profilemodal').modal('show');
        });
    
    </script>
    <script>
        $('#closeprofile').click(function() {
            $('#profilemodal').modal('hide');
        });
    </script>
    <script type="text/javascript">
        $('#address1').on('click',function(){
            $('#addressmodal1').modal('show');
        });
    
    </script>
    <script >
        $('#closeaddressform').click(function() {
            $('#addressmodal1').modal('hide');
        });
    </script>
    <script>
        $('#inumber').keypress(function (e) {
            var regex = new RegExp("^[a-zA-Z_]+$");
            var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
            if (regex.test(str)) {
                return true;
            }
            e.preventDefault();
            return false;
        });
    </script>
    <script>
        $('#lnumber').keypress(function (e) {
            var regex = new RegExp("^[a-zA-Z_]+$");
            var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
            if (regex.test(str)) {
                return true;
            }
            e.preventDefault();
            return false;
        });
    </script>
    <script>
        $('#contactemail').keypress(function (e) {
            var regex = new RegExp("^[a-zA-Z_]+$");
            var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
            if (regex.test(str)) {
                return true;
            }
            e.preventDefault();
            return false;
        });
    </script>
    <script>
        $('#checkoutfname').keypress(function (e) {
            var regex = new RegExp("^[a-zA-Z_]+$");
            var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
            if (regex.test(str)) {
                return true;
            }
            e.preventDefault();
            return false;
        });
    </script>
    <script>
        $('#checkoutlname').keypress(function (e) {
            var regex = new RegExp("^[a-zA-Z_]+$");
            var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
            if (regex.test(str)) {
                return true;
            }
            e.preventDefault();
            return false;
        });
    </script>
    <script>
        $('#checkoutcity').keypress(function (e) {
            var regex = new RegExp("^[a-zA-Z_]+$");
            var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
            if (regex.test(str)) {
                return true;
            }
            e.preventDefault();
            return false;
        });
    </script>
    <script>
        $('#checkoutstate').keypress(function (e) {
            var regex = new RegExp("^[a-zA-Z_]+$");
            var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
            if (regex.test(str)) {
                return true;
            }
            e.preventDefault();
            return false;
        });
    </script>
    <script>
        $('#checkoutpin').keypress(function (e) {
            var regex = new RegExp("^[0-9]+$");
            var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
            if (regex.test(str)) {
                return true;
            }
            e.preventDefault();
            return false;
        });
    </script>
    <script>
        $('#checkoutphone').keypress(function (e) {
            var regex = new RegExp("^[0-9]+$");
            var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
            if (regex.test(str)) {
                return true;
            }
            e.preventDefault();
            return false;
        });
    </script>
    <script>
        $('#reviewname').keypress(function (e) {
            var regex = new RegExp("^[a-zA-Z_]+$");
            var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
            if (regex.test(str)) {
                return true;
            }
            e.preventDefault();
            return false;
        });
    </script>
    
</body>
</html>